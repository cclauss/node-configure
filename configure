#!/bin/sh

# Locate python2 interpreter and re-execute the script.  Note that the
# mix of single and double quotes is intentional, as is the fact that
# the ] goes on a new line.
_=[ 'exec' '/bin/sh' '-c' '''
test ${TRAVIS} && exec python "$0" "$@"
which python2.7 >/dev/null && exec python2.7 "$0" "$@"
which python3.7 >/dev/null && exec python3.7 "$0" "$@"
which python3.6 >/dev/null && exec python3.6 "$0" "$@"
which python2 >/dev/null && exec python2 "$0" "$@"
exec python "$0" "$@"
''' "$0" "$@"
]
del _

import sys
print("*" * 20, "Found Python {}.{}...".format(*sys.version_info))
from distutils.spawn import find_executable as which
if sys.version_info[:2] not in ((2, 7), (3, 7)):
  sys.stderr.write('Please use Python 2.7 or 3.7')

  python2 = which('python2') or which('python2.7') or which('python3.7')

  if python2:
    sys.stderr.write(':\n\n')
    sys.stderr.write('  ' + python2 + ' ' + ' '.join(sys.argv))

  sys.stderr.write('\n')
  sys.exit(1)

import configure
